# -*- cmake -*-

# broken atlas/cblas.h and atlas/clapack.h on some distribs (Debian)
SET(COMPILE_TIME_ATLAS_INCLUDE_PATH ${ATLAS_INCLUDE_PATH})

# a build with atlas
IF(COMPILE_TIME_ATLAS_INCLUDE_PATH)
  IF(COMPILE_TIME_ATLAS_INCLUDE_PATH MATCHES ${CMAKE_SOURCE_DIR})
    SET(PROJECT_INCLUDE_DIRECTORIES ${CMAKE_INSTALL_PREFIX}/include/Siconos/${PROJECT_SHORT_NAME}/AtlasLocal;${CMAKE_INSTALL_PREFIX}/include/Siconos/${PROJECT_SHORT_NAME}/AtlasLocal/atlas;${CHECKED_${PROJECT_NAME}_INCLUDE_DIRECTORIES};${CMAKE_INSTALL_PREFIX}/${${PROJECT_NAME}_INSTALL_INCLUDE_DIR};)
  ELSE(COMPILE_TIME_ATLAS_INCLUDE_PATH MATCHES ${CMAKE_SOURCE_DIR})
    SET(PROJECT_INCLUDE_DIRECTORIES ${CHECKED_${PROJECT_NAME}_INCLUDE_DIRECTORIES};${CMAKE_INSTALL_PREFIX}/${${PROJECT_NAME}_INSTALL_INCLUDE_DIR};)
  ENDIF(COMPILE_TIME_ATLAS_INCLUDE_PATH MATCHES ${CMAKE_SOURCE_DIR})

# without atlas
ELSE(COMPILE_TIME_ATLAS_INCLUDE_PATH)
  SET(PROJECT_INCLUDE_DIRECTORIES ${CHECKED_${PROJECT_NAME}_INCLUDE_DIRECTORIES};${CMAKE_INSTALL_PREFIX}/${${PROJECT_NAME}_INSTALL_INCLUDE_DIR};)
ENDIF(COMPILE_TIME_ATLAS_INCLUDE_PATH)

# Release, Debug, etc.
SET(COMPILE_TIME_BUILD_TYPE ${CMAKE_BUILD_TYPE})

SET(PROJECT_LINK_DIRECTORIES ${${PROJECT_NAME}_LINK_DIRECTORIES};${CMAKE_INSTALL_PREFIX}/${${PROJECT_NAME}_INSTALL_LIB_DIR};)
SET(PROJECT_LINK_LIBRARIES ${${PROJECT_NAME}_SHARED_LIB_NAME};${${PROJECT_NAME}_LINK_LIBRARIES})
SET(PROJECT_FORTRAN_COMPILER_LIB_DIRECTORIES ${FORTRAN_COMPILER_LIB_DIRECTORIES})
SET(PROJECT_FORTRAN_LIBRARIES ${FORTRAN_LIBRARIES})

SET(COMPILE_TIME_CXX_FLAGS "${CMAKE_CXX_FLAGS}")
SET(COMPILE_TIME_C_FLAGS "${CMAKE_C_FLAGS}")
SET(COMPILE_TIME_Fortran_FLAGS "${CMAKE_Fortran_FLAGS}")

